(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{4297:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(7294),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:c=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:d="",children:m,...x},u)=>(0,a.createElement)("svg",{ref:u,...n,width:c,height:c,stroke:t,strokeWidth:l?24*Number(r)/Number(c):r,className:["lucide",`lucide-${i(e)}`,d].join(" "),...x},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(m)?m:[m]]));return t.displayName=`${e}`,t}},9062:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},6583:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},5077:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1981:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7669:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},7420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4976:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5097:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},2297:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},7307:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9560:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9525:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},791:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/social/feed",function(){return t(6018)}])},6018:function(e,s,t){"use strict";t.r(s);var a=t(5893),n=t(7294),i=t(1163),c=t(255),r=t(9560),l=t(4976),d=t(7669),m=t(9525),x=t(6583),u=t(9062),o=t(2297),h=t(1981),p=t(5077),g=t(7420),y=t(5097),f=t(7307);s.default=()=>{let e=(0,i.useRouter)(),[s,t]=(0,n.useState)(null),[j,v]=(0,n.useState)([]),[N,k]=(0,n.useState)("all"),[w,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!c.ON.isAuthenticated()){e.push("/login");return}t(c.ON.getUser()),Z()},[e]);let Z=async()=>{b(!0);let e=[{id:1,type:"visit",user:{id:1,username:"yuki_tanaka",avatar:"\uD83D\uDC69‍\uD83D\uDCBC",level:3},timestamp:"2時間前",content:{store:{name:"オーガニック カフェ リーフ",category:"レストラン・飲食店",address:"東京都世田谷区三軒茶屋1-2-3"},points:150,message:"久しぶりに行ったけど、やっぱり美味しい！"},likes:8,comments:2,isLiked:!1},{id:2,type:"review",user:{id:2,username:"mama_foodie",avatar:"\uD83D\uDC69‍\uD83C\uDF73",level:5},timestamp:"4時間前",content:{store:{name:"ファミリー レストラン",category:"レストラン・飲食店"},rating:4,title:"子連れに優しいレストラン",review:"子供用の設備が充実していて、家族で安心して食事できました。",images:["https://images.unsplash.com/photo-1544025162-d76694265947?w=400"]},likes:12,comments:5,isLiked:!0},{id:3,type:"gift_exchange",user:{id:3,username:"satoshi_dev",avatar:"\uD83D\uDC68‍\uD83D\uDCBB",level:2},timestamp:"6時間前",content:{gift:{name:"Amazonギフト券 1,000円",image:"https://images.unsplash.com/photo-1607344645866-009c7d7496df?w=400"},points:1e3,message:"ついに目標達成！"},likes:5,comments:3,isLiked:!1},{id:4,type:"friend_add",user:{id:4,username:"new_user123",avatar:"\uD83D\uDE4B‍♂️",level:1},timestamp:"8時間前",content:{newFriend:{username:"coffee_lover",avatar:"☕",mutualFriends:3}},likes:3,comments:1,isLiked:!1},{id:5,type:"achievement",user:{id:1,username:"yuki_tanaka",avatar:"\uD83D\uDC69‍\uD83D\uDCBC",level:3},timestamp:"1日前",content:{achievement:{name:"レビューマスター",description:"10件のレビューを投稿しました",icon:"⭐",points:500}},likes:15,comments:4,isLiked:!0}],s=e;"friends"===N?s=e.filter(e=>[1,2,3].includes(e.user.id)):"popular"===N&&(s=e.filter(e=>e.likes>=8)),v(s),b(!1)},D=e=>{v(s=>s.map(s=>s.id===e?{...s,isLiked:!s.isLiked,likes:s.isLiked?s.likes-1:s.likes+1}:s))},_=e=>(0,a.jsx)("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(s=>(0,a.jsx)(r.Z,{className:"h-3 w-3 ".concat(s<=e?"text-yellow-400 fill-current":"text-gray-300")},s))}),C=e=>{switch(e.type){case"visit":return(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 mt-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(l.Z,{className:"h-5 w-5 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.content.store.name}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["+",e.content.points,"pt"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.content.store.category}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.content.store.address}),e.content.message&&(0,a.jsxs)("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.content.message,'"']})]})]})});case"review":return(0,a.jsx)("div",{className:"bg-yellow-50 rounded-lg p-4 mt-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(r.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.content.store.name}),_(e.content.rating)]}),(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mt-1",children:e.content.title}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.content.review}),e.content.images&&e.content.images.length>0&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("img",{src:e.content.images[0],alt:"レビュー画像",className:"w-32 h-24 object-cover rounded-lg"})})]})]})});case"gift_exchange":return(0,a.jsx)("div",{className:"bg-purple-50 rounded-lg p-4 mt-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-purple-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.content.gift.name}),(0,a.jsxs)("span",{className:"text-sm font-medium text-purple-600",children:["-",e.content.points,"pt"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"ギフト交換"}),e.content.message&&(0,a.jsxs)("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',e.content.message,'"']}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("img",{src:e.content.gift.image,alt:"ギフト画像",className:"w-32 h-24 object-cover rounded-lg"})})]})]})});case"friend_add":return(0,a.jsx)("div",{className:"bg-green-50 rounded-lg p-4 mt-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-lg",children:e.content.newFriend.avatar}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.content.newFriend.username}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"新しい友達になりました"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["共通の友達: ",e.content.newFriend.mutualFriends,"人"]})]})]})});case"achievement":return(0,a.jsx)("div",{className:"bg-orange-50 rounded-lg p-4 mt-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(x.Z,{className:"h-5 w-5 text-orange-600"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.content.achievement.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.content.achievement.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.content.achievement.description})]})]}),(0,a.jsxs)("span",{className:"text-sm font-medium text-orange-600",children:["+",e.content.achievement.points,"pt"]})]})})]})});default:return null}},L=e=>{switch(e){case"visit":return"店舗を訪問しました";case"review":return"レビューを投稿しました";case"gift_exchange":return"ギフトを交換しました";case"friend_add":return"友達を追加しました";case"achievement":return"実績を達成しました";default:return""}};return s?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(u.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"アクティビティフィード"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"友達の最新の活動をチェック"})]})]}),(0,a.jsxs)("button",{onClick:()=>Z(),disabled:w,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 ".concat(w?"animate-spin":"")}),(0,a.jsx)("span",{children:"更新"})]})]})})}),(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"すべて"},{key:"friends",label:"友達"},{key:"popular",label:"人気"}].map(e=>{let{key:s,label:t}=e;return(0,a.jsx)("button",{onClick:()=>k(s),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors ".concat(N===s?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:t},s)})})]})})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,a.jsx)("div",{className:"space-y-6",children:j.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-lg",children:e.user.avatar}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.user.username}),(0,a.jsxs)("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-600 rounded-full",children:["Lv.",e.user.level]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)("span",{children:L(e.type)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)(p.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.timestamp})]})]})]}),C(e),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>D(e.id),className:"flex items-center space-x-2 px-3 py-1 rounded-lg transition-colors ".concat(e.isLiked?"bg-red-50 text-red-600":"bg-gray-50 text-gray-600 hover:bg-gray-100"),children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 ".concat(e.isLiked?"fill-current":"")}),(0,a.jsx)("span",{className:"text-sm",children:e.likes})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:e.comments})]})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-3 py-1 bg-gray-50 text-gray-600 rounded-lg hover:bg-gray-100",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"シェア"})]})]})]},e.id))}),0===j.length&&!w&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"アクティビティがありません"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"友達を追加して、活動を確認してみましょう"})]})]})]}):(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"読み込み中..."})}},1163:function(e,s,t){e.exports=t(2937)}},function(e){e.O(0,[7066,255,9774,2888,179],function(){return e(e.s=791)}),_N_E=e.O()}]);