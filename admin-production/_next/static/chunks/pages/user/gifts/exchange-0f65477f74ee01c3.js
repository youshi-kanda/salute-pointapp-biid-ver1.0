(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4124],{7653:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3756:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5077:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8621:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7669:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1197:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},8463:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},7764:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1408:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1352:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9461:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(4297).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},334:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/gifts/exchange",function(){return s(4844)}])},8126:function(e,t,s){"use strict";s.d(t,{E:function(){return i}});var a=s(7066),r=s(255);class c{async get(e,t){return(await this.client.get(e,t)).data}async post(e,t,s){return(await this.client.post(e,t,s)).data}async put(e,t,s){return(await this.client.put(e,t,s)).data}async delete(e,t){return(await this.client.delete(e,t)).data}async grantPoints(e,t,s){return this.post("/api/points/grant/",{uid:e,points:t,reason:s})}async getPointsHistory(e){return this.get("/api/points/history/",{params:e})}async chargePoints(e,t){return this.post("/api/charge/",{amount:e,payment_method:t})}async getChargeHistory(){return this.get("/api/charge/history/")}async getDashboardStats(){return this.get("/api/dashboard/stats/")}async lookupUserByNFC(e){return this.get("/api/nfc/lookup/".concat(e,"/"))}async getGiftCategories(){return this.get("/api/gifts/categories/")}async getGifts(e){return this.get("/api/gifts/",{params:e})}async getGiftDetail(e){return this.get("/api/gifts/".concat(e,"/"))}async exchangeGift(e,t){return this.post("/api/gifts/exchange/",{gift_id:e,...t})}async getGiftExchangeHistory(){return this.get("/api/gifts/exchange/history/")}async getGiftExchangeDetail(e){return this.get("/api/gifts/exchange/".concat(e,"/"))}async request(e,t,s){return(await this.client.request({method:e,url:t,data:s})).data}async requestPasswordReset(e){try{let t=await this.request("POST","/auth/password-reset/",{email:e});return{success:!0,data:t}}catch(e){return{success:!1,error:"パスワードリセット要求に失敗しました"}}}async confirmPasswordReset(e,t){try{let s=await this.request("POST","/auth/password-reset-confirm/",{token:e,password:t});return{success:!0,data:s}}catch(e){return{success:!1,error:"パスワードリセットに失敗しました"}}}async setupTwoFactor(){try{let e=await this.request("POST","/auth/two-factor/setup/");return{success:!0,qr_code_url:e.qr_code_url,backup_codes:e.backup_codes,secret:e.secret}}catch(e){return{success:!1,error:"2FA設定に失敗しました"}}}async verifyTwoFactor(e){try{let t=await this.request("POST","/auth/two-factor/verify/",{token:e});return{success:!0,data:t}}catch(e){return{success:!1,error:"2FA認証に失敗しました"}}}async getTwoFactorStatus(){try{let e=await this.request("GET","/auth/two-factor/status/");return{success:!0,data:e}}catch(e){return{success:!1,error:"2FA状態の取得に失敗しました"}}}async disableTwoFactor(){try{let e=await this.request("POST","/auth/two-factor/disable/");return{success:!0,data:e}}catch(e){return{success:!1,error:"2FA無効化に失敗しました"}}}async generateBackupCodes(){try{let e=await this.request("POST","/auth/two-factor/backup-codes/");return{success:!0,backup_codes:e.backup_codes}}catch(e){return{success:!1,error:"バックアップコード生成に失敗しました"}}}constructor(){this.client=a.Z.create({baseURL:"https://extending-guys-chess-prescribed.trycloudflare.com",timeout:1e4}),this.client.interceptors.request.use(e=>{let t=r.ON.getTokens();return(null==t?void 0:t.access)&&(e.headers.Authorization="Bearer ".concat(t.access)),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){s._retry=!0;try{await r.ON.refreshTokens();let e=r.ON.getTokens();if(null==e?void 0:e.access)return s.headers.Authorization="Bearer ".concat(e.access),this.client(s)}catch(e){return r.ON.logout(),Promise.reject(e)}}return Promise.reject(e)})}}let i=new c},4844:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),c=s(4698),i=s(8126),n=s(9461),l=s(8463),d=s(7669),o=s(3756),u=s(7653),x=s(7764),h=s(1981),p=s(5077);t.default=()=>{let[e,t]=(0,r.useState)([]),[s,m]=(0,r.useState)([]),[y,g]=(0,r.useState)([]),[f,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(""),[b,w]=(0,r.useState)(null),[_,k]=(0,r.useState)({recipient_email:"",recipient_name:"",delivery_address:"",notes:""}),[Z,C]=(0,r.useState)(!0),[S,q]=(0,r.useState)(!1),[P,T]=(0,r.useState)(null),[E,F]=(0,r.useState)(null),[L,O]=(0,r.useState)(0);(0,r.useEffect)(()=>{z()},[]),(0,r.useEffect)(()=>{A()},[s,f,v]);let z=async()=>{try{let[e,s]=await Promise.all([i.E.get("/api/gifts/categories/"),i.E.get("/api/gifts/")]);t(e),m(s.gifts);let a=await i.E.get("/api/user/me/");O(a.points||0)}catch(e){console.error("Failed to fetch data:",e),T({type:"error",text:"データの取得に失敗しました"})}finally{C(!1)}},A=()=>{let e=s;f&&(e=e.filter(e=>e.category===f)),v&&(e=e.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.description.toLowerCase().includes(v.toLowerCase())||e.provider_name.toLowerCase().includes(v.toLowerCase()))),g(e)},M=async()=>{if(b){q(!0),T(null);try{let e=await i.E.post("/api/gifts/exchange/",{gift_id:b.id,recipient_email:_.recipient_email,recipient_name:_.recipient_name,delivery_address:_.delivery_address,notes:_.notes});e.success?(F(e.exchange),O(e.remaining_points),T({type:"success",text:e.message}),w(null),k({recipient_email:"",recipient_name:"",delivery_address:"",notes:""}),z()):T({type:"error",text:e.error})}catch(e){T({type:"error",text:"ギフト交換に失敗しました"})}finally{q(!1)}}},G=e=>{switch(e){case"digital":return(0,a.jsx)(n.Z,{className:"w-4 h-4"});case"physical":return(0,a.jsx)(l.Z,{className:"w-4 h-4"});default:return(0,a.jsx)(d.Z,{className:"w-4 h-4"})}},H=e=>{switch(e){case"digital":return"デジタル";case"physical":return"現物";case"voucher":return"バウチャー";case"coupon":return"クーポン";default:return e}};return Z?(0,a.jsx)(c.Z,{title:"ギフト交換",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})})}):(0,a.jsx)(c.Z,{title:"ギフト交換",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"card-cute",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"ギフト交換"}),(0,a.jsx)("p",{className:"text-gray-600",children:"貯めたポイントで素敵なギフトと交換しよう！"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"所持ポイント"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[L.toLocaleString()," pt"]})]})]})}),P&&(0,a.jsxs)("div",{className:"p-4 rounded-2xl flex items-center space-x-3 ".concat("success"===P.type?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:["success"===P.type?(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(u.Z,{className:"w-5 h-5 text-red-600"}),(0,a.jsx)("span",{className:"font-medium ".concat("success"===P.type?"text-green-700":"text-red-700"),children:P.text})]}),E&&(0,a.jsx)("div",{className:"card-cute border-l-4 border-green-400 bg-green-50",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-green-800",children:"交換完了！"}),(0,a.jsxs)("p",{className:"text-green-700",children:["交換コード: ",E.exchange_code]}),E.digital_code&&(0,a.jsxs)("p",{className:"text-green-700 font-mono",children:["デジタルコード: ",E.digital_code]}),(0,a.jsxs)("p",{className:"text-sm text-green-600",children:[E.points_spent,"ポイントを使用しました"]})]})]})}),(0,a.jsx)("div",{className:"card-cute",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value),className:"input-cute pl-12",placeholder:"ギフトを検索..."})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("select",{value:f||"",onChange:e=>j(e.target.value?parseInt(e.target.value):null),className:"input-cute min-w-[150px]",children:[(0,a.jsx)("option",{value:"",children:"すべてのカテゴリ"}),e.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>(0,a.jsxs)("div",{className:"card-cute hover:shadow-lg transition-shadow duration-200",children:[(0,a.jsx)("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:(0,a.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-48 object-cover rounded-2xl",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 line-clamp-2",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.provider_name})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs bg-gray-100 px-2 py-1 rounded-full",children:[G(e.gift_type),(0,a.jsx)("span",{children:H(e.gift_type)})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-purple-600",children:[e.points_required.toLocaleString(),"pt"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(\xa5",parseFloat(e.original_price).toLocaleString(),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[e.exchange_count,"回交換"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.unlimited_stock?(0,a.jsx)("span",{className:"text-green-600",children:"在庫潤沢"}):(0,a.jsxs)("span",{children:["残り ",e.stock_quantity,"個"]})}),(0,a.jsx)("button",{onClick:()=>w(e),disabled:!e.is_available||L<e.points_required,className:"btn-primary text-sm py-2 px-4 ".concat(!e.is_available||L<e.points_required?"opacity-50 cursor-not-allowed":""),children:L<e.points_required?"ポイント不足":"交換する"})]})]})]},e.id))}),0===y.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"該当するギフトが見つかりませんでした"})]}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-3xl shadow-pop max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("img",{src:b.image_url,alt:b.name,className:"w-24 h-24 object-cover rounded-2xl mx-auto mb-4",onError:e=>{e.currentTarget.src="/api/placeholder/400/300"}}),(0,a.jsx)("h3",{className:"text-2xl font-bold gradient-text",children:b.name}),(0,a.jsx)("p",{className:"text-gray-600",children:b.provider_name}),(0,a.jsxs)("p",{className:"text-lg font-bold text-purple-600 mt-2",children:[b.points_required.toLocaleString(),"pt"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"商品説明"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:b.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"利用方法"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:b.usage_instructions})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"注意事項"}),(0,a.jsx)("p",{className:"text-sm bg-gray-50 p-3 rounded-lg",children:b.terms_conditions})]}),"digital"===b.gift_type&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"受取メールアドレス"}),(0,a.jsx)("input",{type:"email",value:_.recipient_email,onChange:e=>k(t=>({...t,recipient_email:e.target.value})),className:"input-cute",placeholder:"例: user@example.com"})]}),"physical"===b.gift_type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"受取人名"}),(0,a.jsx)("input",{type:"text",value:_.recipient_name,onChange:e=>k(t=>({...t,recipient_name:e.target.value})),className:"input-cute",placeholder:"例: 田中太郎"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"配送先住所"}),(0,a.jsx)("textarea",{value:_.delivery_address,onChange:e=>k(t=>({...t,delivery_address:e.target.value})),className:"input-cute h-24 resize-none",placeholder:"例: 〒123-4567 東京都●●区●●町1-2-3"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"備考（任意）"}),(0,a.jsx)("textarea",{value:_.notes,onChange:e=>k(t=>({...t,notes:e.target.value})),className:"input-cute h-20 resize-none",placeholder:"特別な要望やメッセージがあればご記入ください"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>w(null),className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-2xl font-semibold hover:bg-gray-50 transition-colors duration-200",children:"キャンセル"}),(0,a.jsx)("button",{onClick:M,disabled:S,className:"flex-1 btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:S?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"交換中..."})]}):"交換する"})]})]})})})]})})}},1163:function(e,t,s){e.exports=s(2937)}},function(e){e.O(0,[7066,4862,255,4698,9774,2888,179],function(){return e(e.s=334)}),_N_E=e.O()}]);