(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6850],{4297:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(7294),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:c=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:x,...m},o)=>(0,a.createElement)("svg",{ref:o,...r,width:c,height:c,stroke:t,strokeWidth:i?24*Number(n)/Number(c):n,className:["lucide",`lucide-${l(e)}`,d].join(" "),...m},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(x)?x:[x]]));return t.displayName=`${e}`,t}},3742:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},4976:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5097:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},6383:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},7764:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7307:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9560:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9525:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1352:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(4297).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3307:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/social",function(){return t(7503)}])},7503:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(5893),r=t(7294),l=t(1163),c=t(255),n=t(9525),i=t(6383),d=t(7307);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,t(4297).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var m=t(7764),o=t(5097),h=t(7420),u=t(4976),p=t(9560),y=t(3742),j=t(1352),g=()=>{let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(null),[g,f]=(0,r.useState)("friends"),[v,N]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),[k,Z]=(0,r.useState)(""),[C,D]=(0,r.useState)([]),[M,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!c.ON.isAuthenticated()){e.push("/login");return}t(c.ON.getUser()),_(),R()},[e]);let _=()=>{N([{id:1,username:"yuki_tanaka",avatar:"\uD83D\uDC69‍\uD83D\uDCBC",points:2450,joinDate:"2023-05-15",lastActivity:"2時間前",recentStores:["オーガニック カフェ リーフ","ナチュラル ビューティー"],recentReviews:3,status:"online",mutualFriends:5},{id:2,username:"satoshi_dev",avatar:"\uD83D\uDC68‍\uD83D\uDCBB",points:1890,joinDate:"2023-03-22",lastActivity:"1日前",recentStores:["テック カフェ","コワーキング スペース"],recentReviews:1,status:"offline",mutualFriends:3},{id:3,username:"mama_foodie",avatar:"\uD83D\uDC69‍\uD83C\uDF73",points:3200,joinDate:"2023-01-10",lastActivity:"30分前",recentStores:["ファミリー レストラン","キッズ カフェ"],recentReviews:5,status:"online",mutualFriends:8}])},R=()=>{w([{id:1,from:{id:4,username:"new_user123",avatar:"\uD83D\uDE4B‍♂️",points:150,joinDate:"2024-01-15",lastActivity:"10分前",recentStores:["スターバックス"],recentReviews:0,status:"online",mutualFriends:2},message:"こんにちは！同じ地域でポイ活してる方ですね。よろしくお願いします！",timestamp:"2時間前"}])},q=e=>{Z(e),e.length>=2?D([{id:5,username:"cafe_lover",avatar:"☕",points:1500,joinDate:"2023-08-01",lastActivity:"1時間前",recentStores:["カフェ チェーン"],recentReviews:2,status:"online",mutualFriends:1}].filter(s=>s.username.toLowerCase().includes(e.toLowerCase()))):D([])},A=e=>{alert("友達申請を送信しました")},E=e=>{w(s=>s.filter(s=>s.id!==e)),alert("友達申請を承認しました")},F=e=>{w(s=>s.filter(s=>s.id!==e)),alert("友達申請を拒否しました")};return s?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ソーシャル"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"友達とつながろう"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 text-purple-600 rounded-lg hover:bg-purple-200",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"QRコード"})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"招待"})]})]})]})})}),(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{key:"friends",label:"友達",icon:n.Z},{key:"requests",label:"申請",icon:x,count:b.length},{key:"search",label:"検索",icon:m.Z},{key:"feed",label:"フィード",icon:o.Z}].map(e=>{let{key:s,label:t,icon:r,count:l}=e;return(0,a.jsxs)("button",{onClick:()=>f(s),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm ".concat(g===s?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(r,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t}),void 0!==l&&l>0&&(0,a.jsx)("span",{className:"ml-1 px-2 py-0.5 text-xs bg-red-100 text-red-600 rounded-full",children:l})]},s)})})})}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:["friends"===g&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["友達 (",v.length,")"]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"友達を追加"})]})]}),v.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-2xl",children:e.avatar}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ".concat("online"===e.status?"bg-green-500":"bg-gray-400")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.username}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.points.toLocaleString()," pt"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg",children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[(0,a.jsxs)("p",{children:["最終活動: ",e.lastActivity]}),(0,a.jsxs)("p",{children:["共通の友達: ",e.mutualFriends,"人"]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.recentStores.slice(0,2).join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.recentReviews,"件のレビュー"]})]})]})]})]})},e.id))]}),"requests"===g&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["友達申請 (",b.length,")"]}),0===b.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(x,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"新しい友達申請はありません"})]}):b.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-2xl",children:e.from.avatar}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.from.username}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.from.points.toLocaleString()," pt"]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.timestamp})]}),e.message&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.message})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>E(e.id),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"承認"})]}),(0,a.jsxs)("button",{onClick:()=>F(e.id),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"拒否"})]})]})]})]})},e.id))]}),"search"===g&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"ユーザー名で検索...",value:k,onChange:e=>q(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,a.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"QRスキャン"})]})]}),C.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"検索結果"}),C.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-xl",children:e.avatar}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.username}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.points.toLocaleString()," pt"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["共通の友達: ",e.mutualFriends,"人"]})]})]}),(0,a.jsxs)("button",{onClick:()=>A(e.id),className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"友達申請"})]})]})},e.id))]})]}),"feed"===g&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"アクティビティフィード"}),(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"アクティビティフィードは開発中です"})]})]})]}),M&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"あなたのQRコード"}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(j.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent("biid://user/".concat((null==s?void 0:s.id)||"demo"))),alt:"QRコード",className:"mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"このQRコードをスキャンして友達申請を送信できます"}),(0,a.jsx)("button",{onClick:()=>S(!1),className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"閉じる"})]})]})})]}):(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"読み込み中..."})}},1163:function(e,s,t){e.exports=t(2937)}},function(e){e.O(0,[7066,255,9774,2888,179],function(){return e(e.s=3307)}),_N_E=e.O()}]);